{"version":3,"sources":["ejercicios/decorator/index.ts"],"names":[],"mappings":"AAAA,IAAA,KAAA;AAAA;AAAA,YAAA;AAII,WAAA,KAAA,CAAY,KAAZ,EAAmC;AAAnC,QAAA,KAAA,GAAA,IAAA;;AACI,SAAK,KAAL,GAAa,KAAb;AACA,SAAK,MAAL,GAAc,EAAd;AAEA,QAAI,YAAY,GAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAnB;AACA,IAAA,YAAY,CAAC,SAAb,GAAyB,aAAzB;AACA,SAAK,KAAL,CAAW,UAAX,CAAsB,YAAtB,CAAmC,YAAnC,EAAiD,KAAK,KAAL,CAAW,WAA5D;AAEA,SAAK,KAAL,CAAW,gBAAX,CAA4B,OAA5B,EAAqC,YAAA;AACjC,MAAA,KAAI,CAAC,MAAL,GAAc,EAAd;;AACA,MAAA,KAAI,CAAC,QAAL;;AACA,MAAA,YAAY,CAAC,SAAb,GAAyB,KAAI,CAAC,MAAL,CAAY,CAAZ,KAAkB,EAA3C;AACH,KAJD;AAKH;;AACD,EAAA,KAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA,CAAc,CAAd;;AAEJ,SAAA,KAAA;AApBA,CAAA,EAAA;;AAsBA,SAAS,sBAAT,CAAgC,KAAhC,EAA2C;AACvC,MAAI,QAAQ,GAAG,KAAK,CAAC,QAArB;;AACA,EAAA,KAAK,CAAC,QAAN,GAAiB,YAAA;AACb,IAAA,QAAQ;AACR,QAAI,KAAK,GAAG,KAAK,CAAC,KAAN,CAAY,KAAxB;;AACA,QAAG,CAAC,KAAJ,EAAU;AACN,MAAA,KAAK,CAAC,MAAN,CAAa,IAAb,CAAkB,UAAlB;AACH;AACJ,GAND;;AAOA,SAAO,KAAP;AACH;;AAED,SAAS,mBAAT,CAA6B,KAA7B,EAAwC;AACpC,MAAI,QAAQ,GAAG,KAAK,CAAC,QAArB;;AACA,EAAA,KAAK,CAAC,QAAN,GAAiB,YAAA;AACb,IAAA,QAAQ;AACR,QAAI,KAAK,GAAG,KAAK,CAAC,KAAN,CAAY,KAAxB;;AACA,QAAG,KAAK,CAAC,OAAN,CAAc,GAAd,MAAuB,CAAC,CAA3B,EAA6B;AACzB,MAAA,KAAK,CAAC,MAAN,CAAa,IAAb,CAAkB,kBAAlB;AACH;AACJ,GAND;;AAOA,SAAO,KAAP;AACH;;AAED,IAAI,KAAK,GAAG,IAAI,KAAJ,CAAU,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAV,CAAZ;AACA,KAAK,GAAG,sBAAsB,CAAC,KAAD,CAA9B;AACA,KAAK,GAAG,mBAAmB,CAAC,KAAD,CAA3B","file":"decorator.df4bca80.js","sourceRoot":"..","sourcesContent":["class Field {\r\n    errors: string[];\r\n    input: HTMLInputElement;\r\n\r\n    constructor(input: HTMLInputElement){\r\n        this.input = input;\r\n        this.errors = [];\r\n\r\n        let errorMessage = document.createElement('p');\r\n        errorMessage.className = 'text-danger';\r\n        this.input.parentNode.insertBefore(errorMessage, this.input.nextSibling);\r\n\r\n        this.input.addEventListener('input', () => {\r\n            this.errors = [];\r\n            this.validate();\r\n            errorMessage.innerText = this.errors[0] || '';\r\n        });\r\n    }\r\n    validate () {}\r\n\r\n}\r\n\r\nfunction RequiredFieldDecorator(field:Field): Field {\r\n    let validate = field.validate;\r\n    field.validate = () => {\r\n        validate();\r\n        let value = field.input.value;\r\n        if(!value){\r\n            field.errors.push(\"Required\");\r\n        }\r\n    }\r\n    return field;\r\n}\r\n\r\nfunction EmailFieldDecorator(field:Field): Field {\r\n    let validate = field.validate;\r\n    field.validate = () => {\r\n        validate();\r\n        let value = field.input.value;\r\n        if(value.indexOf(\"@\") === -1){\r\n            field.errors.push(\"must be an email\");\r\n        }\r\n    }\r\n    return field;\r\n}\r\n\r\nlet field = new Field(document.querySelector('#email'));\r\nfield = RequiredFieldDecorator(field);\r\nfield = EmailFieldDecorator(field);"]}