{"version":3,"sources":["node_modules/@massimokris/mediaplayer/lib/plugins/AutoPlay.js","node_modules/@massimokris/mediaplayer/lib/plugins/AutoPause.js","node_modules/@massimokris/mediaplayer/lib/MediaPlayer.js","node_modules/@massimokris/mediaplayer/lib/plugins/Ads/Ads.js","node_modules/@massimokris/mediaplayer/lib/plugins/Ads/index.js","assets/index.ts"],"names":[],"mappings":"AEAA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AECA,ACAA,ACAA,AHAA,ADAA;AKXA,AHYA,ACAA,ACAA,AHAA,ADAA,IKZA,UAAA,GAAA,eAAA,CAAA,OAAA,CAAA,+CAAA,CAAA,CAAA;AHaA,ACAA,ACAA,AHAA,ADAA;AKZA,AHaA,ACAA,ACAA,AHAA,ADAA,IKbA,WAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gDAAA,CAAA,CAAA;AHcA,ACAA,ACAA,AHAA;AIbA,AHcA,ACAA,ACAA,AHAA,IIdA,aAAA,GAAA,eAAA,CAAA,OAAA,CAAA,0BAAA,CAAA,CAAA;AHeA,ACAA,ACAA,AHAA;AIdA,AHeA,ACAA,ACAA,AHAA,IIfA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gDAAA,CAAA,CAAA;AHgBA,ACAA,ACAA,AHAA;AIdA,AHeA,ACAA,ACAA,AHAA,IIfM,KAAK,GAAG,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAd;AACA,AHeA,ACAA,ACAA,AHAA,IIfM,IAAI,GAAgB,QAAQ,CAAC,aAAT,CAAuB,aAAvB,CAA1B;AACA,AHeA,ACAA,ACAA,AHAA,IIfM,IAAI,GAAgB,QAAQ,CAAC,aAAT,CAAuB,aAAvB,CAA1B;AAEA,AHcA,ACAA,ACAA,AHAA,IIdM,MAAM,GAAG,IAAI,aAAA,CAAA,OAAJ,CAAgB;AAAE,AHejC,ACAA,ACAA,AHAA,EIfiC,EAAE,EAAE,KAAN;AAAa,AHgB5C,ACAA,ACAA,AHAA,EIhB4C,OAAO,EAAE,CAAC,IAAI,UAAA,CAAA,OAAJ,EAAD,EAAe,IAAI,WAAA,CAAA,OAAJ,EAAf,EAA8B,IAAI,OAAA,CAAA,OAAJ,EAA9B;AAAtB,AHiB/B,ACAA,ACAA,AHAA,CIjBe,CAAf;AHkBA,ACAA,ACAA,AHAA;AIjBA,AHkBA,ACAA,ACAA,AHAA,IIlBI,CAAC,OAAL,GAAe,YAAA;AAAM,AHmBrB,ACAA,ACAA,AHAA,SInBqB,MAAM,CAAC,UAAP,EAAA;AAAmB,AHoBxC,ACAA,ACAA,AHAA,CIpBA;AHqBA,ACAA,ACAA,AHAA;AIpBA,AHqBA,ACAA,ACAA,AHAA,IIrBI,CAAC,OAAL,GAAe,YAAA;AAAM,AHsBrB,ACAA,ACAA,AHAA,SItBqB,MAAM,CAAC,UAAP,EAAA;AAAmB,AHuBxC,ACAA,ACAA,AHAA,CIvBA;AHwBA,ACAA,ACAA,AHAA;AItBA,AHuBA,ACAA,ACAA,AHAA,IIvBG,mBAAmB,SAAtB,EAAgC;AAC5B,AHuBJ,ACAA,ACAA,ECvBI,SAAS,CAAC,aAAV,CAAwB,QAAxB,CAAiC,sCAAjC,EAA2C,KAA3C,CAAiD,UAAA,KAAA,EAAK;AAClD,AHuBR,ACAA,IEvBQ,OAAO,CAAC,GAAR,CAAY,KAAK,CAAC,OAAlB;AACH,AHuBL,ACAA,GEzBI;AAGH,AHuBD,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;ADCA,ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"assets.71ddc51b.js","sourceRoot":"..","sourcesContent":["\"use strict\";\r\nexports.__esModule = true;\r\nvar AutoPlay = /** @class */ (function () {\r\n    function AutoPlay() {\r\n    }\r\n    AutoPlay.prototype.run = function (player) {\r\n        if (!player.media.muted) {\r\n            player.media.muted = true;\r\n        }\r\n        player.play();\r\n    };\r\n    return AutoPlay;\r\n}());\r\nexports[\"default\"] = AutoPlay;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar AutoPause = /** @class */ (function () {\r\n    function AutoPause() {\r\n        this.threshold = 0.25;\r\n        this.handlerIntersection = this.handlerIntersection.bind(this);\r\n        this.handlerVisibilityChange = this.handlerVisibilityChange.bind(this);\r\n    }\r\n    AutoPause.prototype.run = function (player) {\r\n        this.player = player;\r\n        var observer = new IntersectionObserver(this.handlerIntersection, {\r\n            threshold: this.threshold\r\n        });\r\n        observer.observe(player.media);\r\n        document.addEventListener('visibilitychange', this.handlerVisibilityChange);\r\n    };\r\n    AutoPause.prototype.handlerIntersection = function (entries) {\r\n        var entry = entries[0];\r\n        if (entry.intersectionRatio >= this.threshold) {\r\n            this.player.play();\r\n        }\r\n        else {\r\n            this.player.pause();\r\n        }\r\n    };\r\n    AutoPause.prototype.handlerVisibilityChange = function () {\r\n        if (document.visibilityState === 'visible') {\r\n            this.player.play();\r\n        }\r\n        else {\r\n            this.player.pause();\r\n        }\r\n    };\r\n    return AutoPause;\r\n}());\r\nexports[\"default\"] = AutoPause;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar MediaPlayer = /** @class */ (function () {\r\n    function MediaPlayer(config) {\r\n        this.media = config.el;\r\n        this.plugins = config.plugins || [];\r\n        this.initPlayer();\r\n        this.initPlugins();\r\n    }\r\n    MediaPlayer.prototype.initPlayer = function () {\r\n        this.container = document.createElement('div');\r\n        this.container.style.position = 'relative';\r\n        this.media.parentNode.insertBefore(this.container, this.media);\r\n        this.container.appendChild(this.media);\r\n    };\r\n    MediaPlayer.prototype.initPlugins = function () {\r\n        var _this = this;\r\n        var player = {\r\n            play: function () { return _this.play(); },\r\n            pause: function () { return _this.pause(); },\r\n            media: this.media,\r\n            get muted() {\r\n                return this.media.muted;\r\n            },\r\n            set muted(value) {\r\n                this.media.muted = value;\r\n            }\r\n        };\r\n        this.plugins.forEach(function (plugin) {\r\n            plugin.run(_this);\r\n        });\r\n    };\r\n    MediaPlayer.prototype.play = function () {\r\n        this.media.play();\r\n    };\r\n    MediaPlayer.prototype.pause = function () {\r\n        this.media.pause();\r\n    };\r\n    MediaPlayer.prototype.togglePlay = function () {\r\n        this.media.paused ? this.play() : this.pause();\r\n    };\r\n    MediaPlayer.prototype.mute = function () {\r\n        this.media.muted = true;\r\n    };\r\n    MediaPlayer.prototype.unmute = function () {\r\n        this.media.muted = false;\r\n    };\r\n    MediaPlayer.prototype.toggleMute = function () {\r\n        this.media.muted ? this.unmute() : this.mute();\r\n    };\r\n    return MediaPlayer;\r\n}());\r\nexports[\"default\"] = MediaPlayer;\r\n","\"use strict\";\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nexports.__esModule = true;\r\nvar ALL_ADS = [\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-profesional-javascript-13538df2-24ce-433f-9aa6-e34eed608e70.png',\r\n        title: 'Curso Profesional de JavaScript',\r\n        body: 'Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.',\r\n        url: 'https://platzi.com/cursos/javascript-profesional/'\r\n    },\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-frontend-developer-8a49e681-3e22-408d-b886-2f47dfc9953a.png',\r\n        title: 'Curso de Frontend Developer',\r\n        body: 'Domina las bases de HTML y CSS. Define la arquitectura de tu código y construye un sitio web usando componentes estáticos. ',\r\n        url: 'https://platzi.com/cursos/frontend-developer/'\r\n    },\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-backend-node-8e6aa8a9-f7cd-42b7-bf4a-e1ee916a942b.png',\r\n        title: 'Curso de Backend con Node.js',\r\n        body: 'Crea aplicaciones backend utilizando Node.js, Express y Mongo. Entiende cómo funciona Javascript en un servidor y escribe aplicaciones con Node.js.',\r\n        url: 'https://platzi.com/cursos/backend-nodejs/'\r\n    },\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-prework-da6b0493-9908-40f3-ad53-f5d330b995b8.png',\r\n        title: 'Comienza tus proyectos de desarrollo para JavaScript configurando un entorno de desarrollo cómodo y adaptado a tus necesidades.',\r\n        body: 'Mejora tus habilidades en Javascript. Conoce Typescript y cómo puedes ocuparlo para mejorar el control de tus variables.',\r\n        url: 'https://platzi.com/cursos/prework/'\r\n    },\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-autenticacion-passport-6d45426a-2b24-4757-8927-7bfaf54529dd.png',\r\n        title: 'Curso de Autenticación con Passport.js',\r\n        body: 'Genera estrategias de autenticación Sign-In y Sign-Out usando Passport.js. Agrega autenticación con Facebook, Twitter y Google a tus desarrollos.',\r\n        url: 'https://platzi.com/cursos/passport/'\r\n    },\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-backend-frontend-02b2ac18-331a-4959-85bf-0bd3c2aa009c.png',\r\n        title: 'Curso de Backend for Frontend',\r\n        body: 'La ingeniería de software evoluciona día a día, no te quedes atrás. Ahora que eres un Desarrollador FullStack JavaScript necesitas evolucionar con el software, construye arquitecturas de software modernas.',\r\n        url: 'https://platzi.com/cursos/bff/'\r\n    },\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-react-adec89d0-1c35-4c9c-847e-18c284dc79dd.png',\r\n        title: 'Curso Práctico de React JS',\r\n        body: 'React es una de las librerías más utilizadas hoy para crear aplicaciones web. Aprende a través de la creación de la interfaz de PlatziVideo todo lo que necesitas para crear increíbles componentes con React.      ',\r\n        url: 'https://platzi.com/cursos/react-ejs/'\r\n    },\r\n    {\r\n        imageUrl: 'https://static.platzi.com/media/achievements/badge-react-redux-2ca3c0a5-fc53-437f-bfba-69e9ddd5a803.png',\r\n        title: 'Curso de React Router y Redux',\r\n        body: 'Aprende de forma práctica a implementar React Router para manejar rutas en tus proyectos de frontend como un profesional.',\r\n        url: 'https://platzi.com/cursos/react-router-redux/'\r\n    },\r\n];\r\nvar Ads = /** @class */ (function () {\r\n    function Ads() {\r\n        this.initAds();\r\n    }\r\n    Ads.getInstance = function () {\r\n        if (!Ads.instance) {\r\n            Ads.instance = new Ads();\r\n        }\r\n        return Ads.instance;\r\n    };\r\n    Ads.prototype.initAds = function () {\r\n        this.ads = __spreadArrays(ALL_ADS);\r\n    };\r\n    Ads.prototype.getAd = function () {\r\n        if (this.ads.length === 0)\r\n            this.initAds();\r\n        return this.ads.pop();\r\n    };\r\n    return Ads;\r\n}());\r\nexports[\"default\"] = Ads;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Ads_1 = require(\"./Ads\");\r\nvar AdsPlugin = /** @class */ (function () {\r\n    function AdsPlugin() {\r\n        this.ads = Ads_1[\"default\"].getInstance();\r\n        this.adsContainer = document.createElement('div');\r\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this);\r\n    }\r\n    AdsPlugin.prototype.run = function (player) {\r\n        this.player = player;\r\n        this.player.container.appendChild(this.adsContainer);\r\n        this.media = this.player.media;\r\n        this.media.addEventListener('timeupdate', this.handleTimeUpdate);\r\n    };\r\n    AdsPlugin.prototype.handleTimeUpdate = function () {\r\n        var currentTime = Math.floor(this.media.currentTime);\r\n        if (currentTime % 30 === 0) {\r\n            this.renderAd();\r\n        }\r\n    };\r\n    AdsPlugin.prototype.renderAd = function () {\r\n        var _this = this;\r\n        if (this.currentAd) {\r\n            return;\r\n        }\r\n        var ad = this.ads.getAd();\r\n        this.currentAd = ad;\r\n        this.adsContainer.innerHTML = \"\\n        <div class=\\\"ads\\\">\\n            <a class=\\\"ads__link\\\" href=\\\"\" + this.currentAd.url + \"\\\" target=\\\"_blank\\\">\\n            <img class=\\\"ads__img\\\" src=\\\"\" + this.currentAd.imageUrl + \"\\\" />\\n            <div class=\\\"ads__info\\\">\\n                <h5 class=\\\"ads__title\\\">\" + this.currentAd.title + \"</h5>\\n                <p class=\\\"ads__body\\\">\" + this.currentAd.body + \"</p>\\n            </div>\\n            </a>\\n        </div>\\n        \";\r\n        setTimeout(function () {\r\n            _this.currentAd = null;\r\n            _this.adsContainer.innerHTML = '';\r\n        }, 10000);\r\n    };\r\n    return AdsPlugin;\r\n}());\r\nexports[\"default\"] = AdsPlugin;\r\n","import AutoPlay from '@massimokris/mediaplayer/lib/plugins/AutoPlay';\r\nimport Autopause from '@massimokris/mediaplayer/lib/plugins/AutoPause';\r\nimport MediaPlayer from '@massimokris/mediaplayer';\r\nimport Ads from '@massimokris/mediaplayer/lib/plugins/Ads/index';\r\n\r\nconst video = document.querySelector(\"video\");\r\nconst play: HTMLElement = document.querySelector('#playButton');\r\nconst mute: HTMLElement = document.querySelector('#muteButton');\r\n\r\nconst player = new MediaPlayer({ el: video, plugins: [new AutoPlay, new Autopause, new Ads()] });\r\nplay.onclick = () => player.togglePlay();\r\nmute.onclick = () => player.toggleMute();\r\n\r\nif('serviceWorker' in navigator){\r\n    navigator.serviceWorker.register('/sw.js').catch(error => {\r\n        console.log(error.message);\r\n    });\r\n}\r\n"]}